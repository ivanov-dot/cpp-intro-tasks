Бройни системи и побитови операции

Десетична система (base 10)

Това е нашият ежедневен начин за броене: 0–9.

Двоична система (base 2)

Тук имаме само 0 и 1.
Пример:
13 в десетична = 1101 в двоична.

Шестнадесетична система (base 16)

Много удобна за представяне на памет, цветове, байтове.
Цифрите са: 0–9, A–F.
255 = FF.


Побитови операции

Основни операции:

AND (&) – 1 само ако двете позиции са 1.

OR (|) – 1 ако поне една позиция е 1.

XOR (^) – 1 ако позициите са различни.

NOT (~) – обръща битовете.

Пример:
unsigned int a = 6;  // 110
unsigned int b = 3;  // 011

unsigned int c = a & b;  // 010 -> 2
unsigned int d = a | b;  // 111 -> 7
unsigned int e = a ^ b;  // 101 -> 5

Указатели

int x = 5;
int* p = &x; // p държи адреса на x
*p — достъпва стойността на адреса.


Памет

Паметта в C++ е няколко вида:

Stack (стек)

Бърза памет

Автоматично управление

Променливите живеят докато са в обхват

void foo() {
    int a = 10; // в стека
}

Heap

Ръчно управление

Динамично заделяне

Трябва да освобождаваш сам

int* p = new int(42);
delete p;

1. Заделя се динамична памет в heap-а

new int(42) казва на програмата:

„Дай ми едно парче памет, достатъчно голямо да побере един int.“

2. В тази новозаделена памет се записва стойността 42

Тоест там, на това чисто ново място, директно се поставя числото.

3. new връща адреса на тази памет

Той е от тип int*, защото това е адрес към int.

4. Този адрес се записва в указателя p

p не е 42.
p сочи към мястото, където стои 42.



Адресна аритметика

Указателите могат да се „местят“.

int arr[5] = {1,2,3,4,5};
int* p = arr;

p++;   // сочи към arr[1]
p += 2; // сочи към arr[3]

Важно:
Преместването става НЕ с байтове, а със стъпки от размера на типа.
Ако типът е int и е 4 байта, p + 1 → адрес + 4 байта.


Задачи:

1) БРОЙНИ СИСТЕМИ
Задача 1

Преобразувай числото 45:

в двоична система

в шестнадесетична система

Задача 2

Дадено е двоичното число 101101.

Представи го в десетична система

Представи го в шестнадесетична система


2) ПОБИТОВИ ОПЕРАЦИИ
Задача 3

Дадени са:

unsigned int a = 12; // 1100
unsigned int b = 5;  // 0101


Намери резултата от:

a & b

a | b

a ^ b


3) УКАЗАТЕЛИ
Задача 5

Какво ще отпечата този код?

int v = 10;
int* p = &v;

*p = 20;

cout << v << " " << *p;

Задача 6

Напиши фрагмент код, който:

създава указател към double

заделя динамична памет

присвоява стойност 3.14

отпечатва стойността

освобождава паметта


4) ПАМЕТ И АДРЕСНА АРИТМЕТИКА
Задача 7

Имаме масив:

int arr[5] = { 4, 7, 1, 9, 2 };
int* p = arr;


Каква стойност ще получиш при:

*(p + 0)

*(p + 3)

*(p + 4)

Задача 8

Създай програма, която:

заделя динамична памет за масив от 4 цели числа

въвежда стойности от потребителя

извежда ги чрез указателна аритметика (например *(ptr + i))

освобождава паметта